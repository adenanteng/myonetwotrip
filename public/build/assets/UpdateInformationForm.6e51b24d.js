import{u as C,d as y,o as b,c as I,w as o,g as i,a as t,b as a,B as k,C as w,e as $,f as N,N as P,z,h as s,n as F}from"./app.6527f19c.js";import{_ as U}from"./ActionMessage.f03bea3d.js";import{_ as R}from"./FormSection.7aad9c2d.js";import{_ as d}from"./InputError.f05956d3.js";import{_ as p}from"./InputLabel.4a316bf1.js";import{_ as j}from"./PrimaryButton.9c9c0130.js";import{_ as q}from"./SecondaryButton.f0bfd9ce.js";import{_ as S}from"./TextInput.c99bc7f3.js";import"./SectionTitle.a465b970.js";import"./_plugin-vue_export-helper.cdc0426e.js";const D={class:"col-span-6 sm:col-span-3"},T={class:"mt-2"},A=["src","alt"],E={class:"mt-2"},G={class:"col-span-6 sm:col-span-4"},J={class:"col-span-6 sm:col-span-4"},ee={__name:"UpdateInformationForm",props:{gallery:Object|String},setup(f){var g,h,v;const r=f,e=C({id:(g=r.gallery.id)!=null?g:null,name:(h=r.gallery.name)!=null?h:null,desc:(v=r.gallery.desc)!=null?v:null,photo:null}),m=y(null),n=y(null),V=()=>{n.value&&(e.photo=n.value.files[0]),r.gallery.name==null?e.post(route("gallery.store"),{errorBag:"storeInformation",preserveScroll:!0,onSuccess:()=>{_()}}):e.put(route("gallery.update",e.id),{errorBag:"updateInformation",preserveScroll:!0,onSuccess:()=>{_()}})},_=()=>{e.defaults({id:null,name:null,desc:null,photo:null}),e.reset()},x=()=>{n.value.click()},B=()=>{const u=n.value.files[0];if(!u)return;const l=new FileReader;l.onload=c=>{m.value=c.target.result},l.readAsDataURL(u)};return(u,l)=>(b(),I(R,{onSubmitted:V},{title:o(()=>[i(" Informasi Galeri ")]),description:o(()=>[i(" Perbarui informasi profil akun dan alamat email pengguna. ")]),form:o(()=>[t("div",D,[t("input",{ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:B},null,544),a(p,{for:"photo",value:"Photo"}),k(t("div",T,[r.gallery.media!=null?(b(),$("img",{key:0,src:r.gallery.media[0].original_url,alt:f.gallery.name,class:"rounded-2xl h-48 w-auto object-cover"},null,8,A)):N("",!0)],512),[[w,!m.value]]),k(t("div",E,[t("span",{class:"block rounded-2xl h-48 w-auto bg-cover bg-no-repeat bg-center",style:P("background-image: url('"+m.value+"');")},null,4)],512),[[w,m.value]]),a(q,{class:"mt-2 mr-2",type:"button",onClick:z(x,["prevent"])},{default:o(()=>[i(" Tambah Foto ")]),_:1},8,["onClick"]),a(d,{message:s(e).errors.photo,class:"mt-2"},null,8,["message"])]),t("div",G,[a(p,{for:"name",value:"Judul"}),a(S,{id:"name",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=c=>s(e).name=c),type:"text",class:"mt-1 block w-full capitalize",autocomplete:"name",required:""},null,8,["modelValue"]),a(d,{message:s(e).errors.name,class:"mt-2"},null,8,["message"])]),t("div",J,[a(p,{for:"desc",value:"Keterangan"}),a(S,{id:"desc",modelValue:s(e).desc,"onUpdate:modelValue":l[1]||(l[1]=c=>s(e).desc=c),type:"text",class:"mt-1 block w-full",autocomplete:"email",required:""},null,8,["modelValue"]),a(d,{message:s(e).errors.desc,class:"mt-2"},null,8,["message"])])]),actions:o(()=>[a(U,{on:s(e).recentlySuccessful,class:"mr-3"},{default:o(()=>[i(" Berhasil disimpan. ")]),_:1},8,["on"]),a(j,{class:F({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:o(()=>[i(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{ee as default};
