import{o as c,e as g,a as e,r as v,f as T,u as U,d as q,c as b,w as a,b as l,g as i,i as D,F as j,h as o,n as u,t as p}from"./app.c0bed2f0.js";import{e as z,g as _}from"./DarkmodeToggle.b53a1061.js";import{_ as F}from"./PrimaryButton.c06dd1a3.js";import{_ as y}from"./InputError.d843e3bd.js";import{_ as h}from"./InputLabel.8f1dec6a.js";import{_ as I}from"./SecondaryButton.511dc3d1.js";import{_ as k}from"./TextInput.34bab86d.js";import{_ as A}from"./TextAreaInput.99bfb2d6.js";import{_ as H}from"./AppLayout.94702787.js";import{_ as J}from"./ActionMessage.18bd97c5.js";import{_ as K}from"./FormSection.bb4faf19.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as E}from"./Table.4f7d222f.js";import"./SectionTitle.cab8dcd0.js";const L={},Q={class:"px-4 mt-20 mb-10 lg:flex lg:items-center lg:justify-between max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"text-xl font-bold text-gray-900 sm:text-2xl capitalize"},G={key:0,class:"mt-8 flex lg:mt-0 lg:flex-shrink-0 space-x-2"};function M(m,d){return c(),g("div",Q,[e("h2",R,[v(m.$slots,"header")]),m.$slots.action?(c(),g("div",G,[v(m.$slots,"action")])):T("",!0)])}const P=O(L,[["render",M]]),W={id:"search"},X={class:"flex gap-5"},Y={class:"-mx-4 shadow border border-gray-300 ring-1 ring-black ring-opacity-5 sm:-mx-6 md:mx-0 md:rounded-2xl mb-10 grow"},Z={class:"min-w-full divide-y divide-gray-300 dark:divide-gray-600 rounded-2xl"},ee=e("thead",{class:""},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},"Judul"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell"},"Deskripsi"),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 sm:table-cell"},"Status"),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"})])],-1),se={class:"divide-y divide-gray-300 dark:divide-gray-600 bg-white bg-opacity-25"},te={class:"w-full max-w-0 py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:w-auto sm:max-w-none sm:pl-6"},le={class:"font-normal lg:hidden"},oe={class:"mt-1 truncate text-gray-700"},ae={class:"px-3 py-4 text-sm text-gray-500"},re={class:"py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ne={class:"relative"},ie=e("button",{class:"text-indigo-600 hover:text-indigo-900"}," Aksi ",-1),de=e("div",{class:"border-t border-gray-100"},null,-1),ce=e("span",{class:"text-red-500"},"Hapus",-1),me={class:"col-span-6 sm:col-span-4"},ue={class:"col-span-6 sm:col-span-5"},pe={class:"col-span-6 sm:col-span-4"},Se={__name:"Index",props:{blog:Object|String,category:Object},setup(m){const d=m,s=U({blog_id:d.blog.id,id:null,name:null,desc:null,icon:null}),$=r=>{s.defaults({id:d.category[r].id,name:d.category[r].name,desc:d.category[r].desc,icon:d.category[r].icon}),s.reset()},f=()=>{s.defaults({id:null,name:null,desc:null,icon:null}),s.reset()},w=()=>{s.id==null?s.post(route("blog.addCategory"),{errorBag:"storeCategory",preserveScroll:!0,onSuccess:()=>f()}):s.put(route("blog.editCategory",d.category),{errorBag:"updateInformation",preserveScroll:!0,onSuccess:()=>f()})},C=r=>{s.delete(route("blog.deleteCategory",r),{preserveScroll:!0,onSuccess:()=>{}})},x=q(""),V=["Nama","Keterangan"],B=["name","desc"];return(r,n)=>(c(),b(H,{title:"Blog",name:"Blog",desc:"lorem ipsum",action:"Tambah Blog",href:"/blog/create"},{default:a(()=>[e("form",W,[l(k,{name:"query",modelValue:x.value,"onUpdate:modelValue":n[0]||(n[0]=t=>x.value=t),type:"text",class:"mt-1 block w-96 mb-5 shadow",placeholder:"Cari disini"},null,8,["modelValue"])]),l(E,{title:V,data:r.$page.props.blog,columns:B,"filter-key":x.value,routes:"blog",slug:!0,view:!0,edit:!0},null,8,["data","filter-key"]),l(P,null,{header:a(()=>[i(" Blog Kategori ")]),_:1}),e("div",X,[e("div",Y,[e("table",Z,[ee,e("tbody",se,[(c(!0),g(j,null,D(r.$page.props.category,(t,S)=>(c(),g("tr",{key:t.id},[e("td",te,[e("i",{class:u(["fa-regular mr-2",t.icon])},null,2),i(" "+p(t.name)+" ",1),e("dl",le,[e("dd",oe,p(t.desc),1),e("dd",{class:u(["mt-1 truncate text-gray-500 sm:hidden",t.status==1?"text-green-500":"text-red-500"])},p(t.status==1?"Terbit":"Draft"),3)])]),e("td",{class:u(["hidden px-3 py-4 text-sm sm:table-cell",t.status==1?"text-green-500":"text-red-500"])},p(t.status==1?"Aktif":"Nonaktif"),3),e("td",ae,p(t.desc),1),e("td",re,[e("div",ne,[l(z,{align:"right",width:"48"},{trigger:a(()=>[ie]),content:a(()=>[l(_,{as:"button",onClick:N=>$(S)},{default:a(()=>[i(" Ubah ")]),_:2},1032,["onClick"]),de,t.status==1?(c(),b(_,{key:0,href:"#"},{default:a(()=>[i(" Nonaktifkan ")]),_:1})):(c(),b(_,{key:1,href:"#"},{default:a(()=>[i(" Terbitkan ")]),_:1})),l(_,{onClick:N=>C(t.id)},{default:a(()=>[ce]),_:2},1032,["onClick"])]),_:2},1024)])])]))),128))])])]),l(K,{onSubmitted:w},{form:a(()=>[e("div",me,[l(h,{for:"name",value:"Judul"}),l(k,{id:"name",modelValue:o(s).name,"onUpdate:modelValue":n[1]||(n[1]=t=>o(s).name=t),type:"text",class:"mt-1 block w-full capitalize",autocomplete:"name",required:""},null,8,["modelValue"]),l(y,{message:o(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",ue,[l(h,{for:"desc",value:"Deskripsi"}),l(A,{id:"desc",modelValue:o(s).desc,"onUpdate:modelValue":n[2]||(n[2]=t=>o(s).desc=t),class:"mt-1 block w-full",rows:"2",required:""},null,8,["modelValue"]),l(y,{message:o(s).errors.desc,class:"mt-2"},null,8,["message"])]),e("div",pe,[l(h,{for:"icon",value:"Icon"}),l(k,{id:"icon",modelValue:o(s).icon,"onUpdate:modelValue":n[3]||(n[3]=t=>o(s).icon=t),type:"text",class:"mt-1 block w-full",autocomplete:"icon",required:""},null,8,["modelValue"]),l(y,{message:o(s).errors.icon,class:"mt-2"},null,8,["message"])])]),actions:a(()=>[l(J,{on:o(s).recentlySuccessful,class:"mr-3"},{default:a(()=>[i(" Berhasil disimpan. ")]),_:1},8,["on"]),l(I,{class:u([{"opacity-25":o(s).processing},"mr-2"]),disabled:o(s).processing,onClick:f},{default:a(()=>[i(" Reset ")]),_:1},8,["class","disabled"]),l(F,{class:u({"opacity-25":o(s).processing}),disabled:o(s).processing},{default:a(()=>[i(" Simpan ")]),_:1},8,["class","disabled"])]),_:1})])]),_:1}))}};export{Se as default};
