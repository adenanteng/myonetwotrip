import{l as C,d as P,j as h,O as L,p as $,m as M,z as J,x as K,F as X,q as ee,k as te,s as I,v as ae,o as z,c as q,w as _,a as V,b as U,h as A,t as H,T as le,e as Q,i as oe,n as W,f as ie}from"./app.f6be8ed3.js";import{d as ne,u as T,o as b,e as re,f as se,K as ue,c as de,H as E,T as pe,t as F,b as ve,N as G,a as f}from"./use-controllable.3be65548.js";import{x as ce,a as S,y as fe,S as be,F as me,c as xe,l as N,p as ge,u as ye,I as he}from"./use-tracked-pointer.9cf3ba9e.js";function Se(t,v){return t===v}var Oe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Oe||{}),Re=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Re||{}),we=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(we||{});function Le(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Y=Symbol("ListboxContext");function j(t){let v=ae(Y,null);if(v===null){let m=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(m,j),m}return v}let ke=C({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Se},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:v,attrs:m,emit:x}){let e=P(1),u=P(null),d=P(null),g=P(null),p=P([]),a=P(""),l=P(null),R=P(1);function O(o=i=>i){let i=l.value!==null?p.value[l.value]:null,r=he(o(p.value.slice()),y=>b(y.dataRef.domRef)),s=i?r.indexOf(i):null;return s===-1&&(s=null),{options:r,activeOptionIndex:s}}let k=h(()=>t.multiple?1:0),[w,D]=ne(h(()=>t.modelValue===void 0?T(k.value,{[1]:[],[0]:void 0}):t.modelValue),o=>x("update:modelValue",o),h(()=>t.defaultValue)),n={listboxState:e,value:w,mode:k,compare(o,i){if(typeof t.by=="string"){let r=t.by;return(o==null?void 0:o[r])===(i==null?void 0:i[r])}return t.by(o,i)},orientation:h(()=>t.horizontal?"horizontal":"vertical"),labelRef:u,buttonRef:d,optionsRef:g,disabled:h(()=>t.disabled),options:p,searchQuery:a,activeOptionIndex:l,activationTrigger:R,closeListbox(){t.disabled||e.value!==1&&(e.value=1,l.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(o,i,r){if(t.disabled||e.value===1)return;let s=O(),y=ce(o===S.Specific?{focus:S.Specific,id:i}:{focus:o},{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:B=>B.id,resolveDisabled:B=>B.dataRef.disabled});a.value="",l.value=y,R.value=r!=null?r:1,p.value=s.options},search(o){if(t.disabled||e.value===1)return;let i=a.value!==""?0:1;a.value+=o.toLowerCase();let r=(l.value!==null?p.value.slice(l.value+i).concat(p.value.slice(0,l.value+i)):p.value).find(y=>y.dataRef.textValue.startsWith(a.value)&&!y.dataRef.disabled),s=r?p.value.indexOf(r):-1;s===-1||s===l.value||(l.value=s,R.value=1)},clearSearch(){t.disabled||e.value!==1&&a.value!==""&&(a.value="")},registerOption(o,i){let r=O(s=>[...s,{id:o,dataRef:i}]);p.value=r.options,l.value=r.activeOptionIndex},unregisterOption(o){let i=O(r=>{let s=r.findIndex(y=>y.id===o);return s!==-1&&r.splice(s,1),r});p.value=i.options,l.value=i.activeOptionIndex,R.value=1},select(o){t.disabled||D(T(k.value,{[0]:()=>o,[1]:()=>{let i=L(n.value.value).slice(),r=L(o),s=i.findIndex(y=>n.compare(r,L(y)));return s===-1?i.push(r):i.splice(s,1),i}}))}};fe([d,g],(o,i)=>{var r;n.closeListbox(),be(i,me.Loose)||(o.preventDefault(),(r=b(d))==null||r.focus())},h(()=>e.value===0)),$(Y,n),xe(h(()=>T(e.value,{[0]:N.Open,[1]:N.Closed})));let c=h(()=>{var o;return(o=b(d))==null?void 0:o.closest("form")});return M(()=>{J([c],()=>{if(!c.value||t.defaultValue===void 0)return;function o(){n.select(t.defaultValue)}return c.value.addEventListener("reset",o),()=>{var i;(i=c.value)==null||i.removeEventListener("reset",o)}},{immediate:!0})}),()=>{let{name:o,modelValue:i,disabled:r,...s}=t,y={open:e.value===0,disabled:r,value:w.value};return K(X,[...o!=null&&w.value!=null?re({[o]:w.value}).map(([B,Z])=>K(se,ue({features:de.Hidden,key:B,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:B,value:Z}))):[],E({ourProps:{},theirProps:{...m,...pe(s,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:y,slots:v,attrs:m,name:"Listbox"})])}}});C({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:()=>`headlessui-listbox-label-${F()}`}},setup(t,{attrs:v,slots:m}){let x=j("ListboxLabel");function e(){var u;(u=b(x.buttonRef))==null||u.focus({preventScroll:!0})}return()=>{let u={open:x.listboxState.value===0,disabled:x.disabled.value},{id:d,...g}=t,p={id:d,ref:x.labelRef,onClick:e};return E({ourProps:p,theirProps:g,slot:u,attrs:v,slots:m,name:"ListboxLabel"})}}});let Pe=C({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-listbox-button-${F()}`}},setup(t,{attrs:v,slots:m,expose:x}){let e=j("ListboxButton");x({el:e.buttonRef,$el:e.buttonRef});function u(a){switch(a.key){case f.Space:case f.Enter:case f.ArrowDown:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=b(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(S.First)});break;case f.ArrowUp:a.preventDefault(),e.openListbox(),I(()=>{var l;(l=b(e.optionsRef))==null||l.focus({preventScroll:!0}),e.value.value||e.goToOption(S.Last)});break}}function d(a){switch(a.key){case f.Space:a.preventDefault();break}}function g(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),I(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),Le(()=>{var l;return(l=b(e.optionsRef))==null?void 0:l.focus({preventScroll:!0})})))}let p=ve(h(()=>({as:t.as,type:v.type})),e.buttonRef);return()=>{var a,l;let R={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},{id:O,...k}=t,w={ref:e.buttonRef,id:O,type:p.value,"aria-haspopup":"listbox","aria-controls":(a=b(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(l=b(e.labelRef))==null?void 0:l.id,O].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:u,onKeyup:d,onClick:g};return E({ourProps:w,theirProps:k,slot:R,attrs:v,slots:m,name:"ListboxButton"})}}}),Te=C({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-listbox-options-${F()}`}},setup(t,{attrs:v,slots:m,expose:x}){let e=j("ListboxOptions"),u=P(null);x({el:e.optionsRef,$el:e.optionsRef});function d(a){switch(u.value&&clearTimeout(u.value),a.key){case f.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case f.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let l=e.options.value[e.activeOptionIndex.value];e.select(l.dataRef.value)}e.mode.value===0&&(e.closeListbox(),I(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})}));break;case T(e.orientation.value,{vertical:f.ArrowDown,horizontal:f.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(S.Next);case T(e.orientation.value,{vertical:f.ArrowUp,horizontal:f.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(S.Previous);case f.Home:case f.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(S.First);case f.End:case f.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(S.Last);case f.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),I(()=>{var l;return(l=b(e.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case f.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),u.value=setTimeout(()=>e.clearSearch(),350));break}}let g=ge(),p=h(()=>g!==null?(g.value&N.Open)===N.Open:e.listboxState.value===0);return()=>{var a,l,R,O;let k={open:e.listboxState.value===0},{id:w,...D}=t,n={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(O=(l=b(e.labelRef))==null?void 0:l.id)!=null?O:(R=b(e.buttonRef))==null?void 0:R.id,"aria-orientation":e.orientation.value,id:w,onKeydown:d,role:"listbox",tabIndex:0,ref:e.optionsRef};return E({ourProps:n,theirProps:D,slot:k,attrs:v,slots:m,features:G.RenderStrategy|G.Static,visible:p.value,name:"ListboxOptions"})}}}),Ve=C({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-listbox.option-${F()}`}},setup(t,{slots:v,attrs:m,expose:x}){let e=j("ListboxOption"),u=P(null);x({el:u,$el:u});let d=h(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===t.id:!1),g=h(()=>T(e.mode.value,{[0]:()=>e.compare(L(e.value.value),L(t.value)),[1]:()=>L(e.value.value).some(n=>e.compare(L(n),L(t.value)))})),p=h(()=>T(e.mode.value,{[1]:()=>{var n;let c=L(e.value.value);return((n=e.options.value.find(o=>c.some(i=>e.compare(L(i),L(o.dataRef.value)))))==null?void 0:n.id)===t.id},[0]:()=>g.value})),a=h(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:u}));M(()=>{var n,c;let o=(c=(n=b(u))==null?void 0:n.textContent)==null?void 0:c.toLowerCase().trim();o!==void 0&&(a.value.textValue=o)}),M(()=>e.registerOption(t.id,a)),ee(()=>e.unregisterOption(t.id)),M(()=>{J([e.listboxState,g],()=>{e.listboxState.value===0&&(!g.value||T(e.mode.value,{[1]:()=>{p.value&&e.goToOption(S.Specific,t.id)},[0]:()=>{e.goToOption(S.Specific,t.id)}}))},{immediate:!0})}),te(()=>{e.listboxState.value===0&&(!d.value||e.activationTrigger.value!==0&&I(()=>{var n,c;return(c=(n=b(u))==null?void 0:n.scrollIntoView)==null?void 0:c.call(n,{block:"nearest"})}))});function l(n){if(t.disabled)return n.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),I(()=>{var c;return(c=b(e.buttonRef))==null?void 0:c.focus({preventScroll:!0})}))}function R(){if(t.disabled)return e.goToOption(S.Nothing);e.goToOption(S.Specific,t.id)}let O=ye();function k(n){O.update(n)}function w(n){!O.wasMoved(n)||t.disabled||d.value||e.goToOption(S.Specific,t.id,0)}function D(n){!O.wasMoved(n)||t.disabled||!d.value||e.goToOption(S.Nothing)}return()=>{let{disabled:n}=t,c={active:d.value,selected:g.value,disabled:n},{id:o,value:i,disabled:r,...s}=t,y={id:o,ref:u,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":g.value,disabled:void 0,onClick:l,onFocus:R,onPointerenter:k,onMouseenter:k,onPointermove:w,onMousemove:w,onPointerleave:D,onMouseleave:D};return E({ourProps:y,theirProps:s,slot:c,attrs:m,slots:v,name:"ListboxOption"})}}});const Ie={class:"relative mt-1 block"},De={class:"block truncate capitalize text-gray-900"},Be=V("span",{class:"pointer-events-none inset-y-0 block items-center"},[V("i",{class:"fa-regular fa-angle-down text-gray-900"})],-1),_e={key:0,class:"inset-y-0 left-0 flex items-center pl-1.5"},Ce=V("i",{class:"fa-solid fa-check text-primary-600"},null,-1),Ee=[Ce],Me={__name:"SelectInput",props:{modelValue:String|Number,option:Object},emits:["update:modelValue"],setup(t){return(v,m)=>(z(),q(A(ke),{value:t.modelValue,onInput:m[0]||(m[0]=x=>v.$emit("update:modelValue",x.target.value)),horizontal:!0},{default:_(()=>[V("div",Ie,[U(A(Pe),{class:"bg-white relative w-full flex justify-between cursor-default py-2 pl-3 pr-4 text-left border border-gray-300 focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 rounded-2xl shadow-sm"},{default:_(()=>[V("span",De,H(t.option[t.modelValue]),1),Be]),_:1}),U(le,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[U(A(Te),{class:"z-40 absolute mt-2 max-h-60 w-full overflow-auto rounded-2xl bg-white bg-opacity-50 backdrop-blur text-base shadow-lg focus:outline-none sm:text-sm border border-gray-300"},{default:_(()=>[(z(!0),Q(X,null,oe(t.option,(x,e)=>(z(),q(A(Ve),{key:e,value:e,class:"inline-flex"},{default:_(({active:u,selected:d})=>[V("li",{class:W([u?"bg-primary-100 text-primary-900":"text-gray-900","capitalize relative cursor-default select-none py-2 px-3 m-1 pr-4 inline-flex rounded-2xl focus:ring focus:ring-primary-200 focus:ring-opacity-50"])},[V("span",{class:W([d?"font-medium":"font-normal","block truncate"])},H(x),3),d?(z(),Q("span",_e,Ee)):ie("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["value"]))}};export{Me as _};
