import{u as y,d as v,o as a,c as w,w as s,g as u,a as e,e as c,i as C,F,b as d,N as S,z as _,h as p,n as $,f as B,A as H}from"./app.15f52aeb.js";import{_ as N}from"./ActionMessage.5f8a9fad.js";import{_ as P}from"./FormSection.c8948516.js";import{_ as I}from"./InputError.457eb072.js";import{_ as V}from"./InputLabel.fb5684a5.js";import{_ as z}from"./PrimaryButton.9f0b4562.js";import{_ as U}from"./DangerButton.47ffd81c.js";import"./SectionTitle.2b833d82.js";import"./_plugin-vue_export-helper.cdc0426e.js";const A={class:"col-span-6 grid grid-cols-2 gap-3 flex-wrap mb-5"},G={class:"relative flex-1 flex flex-col border border-gray-300 rounded-2xl shadow-xl"},L=["src"],R={class:"absolute bottom-0 right-0"},T=e("i",{class:"fa-duotone fa-trash"},null,-1),j=e("span",{class:"ml-3"},"Hapus",-1),D={class:"col-span-6 sm:col-span-3"},E={class:"block mt-2"},M=["onClick"],O=["onClick"],q=e("i",{class:"fa-duotone fa-image text-gray-400 text-5xl"},null,-1),J=e("span",{class:"mt-2 block text-sm font-medium text-gray-900"},"Tambah Foto",-1),K=[q,J],le={__name:"UpdateHeroForm",props:{trip:Object},setup(g){const m=g,t=y({id:m.trip.id,photo:null}),l=v(null),r=v(null),b=()=>{r.value&&(t.photo=r.value.files[0]),t.post(route("trip.addHero"),{errorBag:"storeHero",preserveScroll:!0,onSuccess:()=>{l.value=null,h(),t.reset()}})},f=()=>{r.value.click()},x=()=>{const o=r.value.files[0];if(!o)return;const n=new FileReader;n.onload=i=>{l.value=i.target.result},n.readAsDataURL(o)},k=(o,n)=>{H.Inertia.delete(route("trip.deleteHero",[o,n]),{preserveScroll:!0,onSuccess:()=>{l.value=null,h()}})},h=()=>{var o;(o=r.value)!=null&&o.value&&(r.value.value=null)};return(o,n)=>(a(),w(P,{onSubmitted:b},{title:s(()=>[u(" Foto Galeri ")]),description:s(()=>[u(" Update your account's profile information and email address. ")]),preview:s(()=>[]),form:s(()=>[e("div",A,[(a(!0),c(F,null,C(m.trip.media,(i,Q)=>(a(),c("div",G,[i?(a(),c("img",{key:0,class:"aspect-video rounded-2xl",src:i.original_url,alt:""},null,8,L)):B("",!0),e("div",R,[d(U,{onClick:_(W=>k(m.trip.id,i.id),["prevent"]),class:"rounded-none py-4 inline-flex rounded-br-2xl rounded-tl-2xl"},{default:s(()=>[T,j]),_:2},1032,["onClick"])])]))),256))]),e("div",D,[e("input",{ref_key:"photoInput",ref:r,type:"file",class:"hidden",onChange:x},null,544),d(V,{for:"photo",value:"Galeri"}),e("div",E,[l.value?(a(),c("div",{key:0,class:"",onClick:_(f,["prevent"])},[e("span",{class:"block rounded-2xl w-full aspect-video px-2 bg-cover bg-no-repeat bg-center border border-gray-300",style:S("background-image: url('"+l.value+"');")},null,4)],8,M)):(a(),c("button",{key:1,onClick:_(f,["prevent"]),type:"button",class:"relative block w-full p-12 text-center border-2 border-gray-400 border-dashed focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-2xl shadow-sm"},K,8,O))]),d(I,{message:p(t).errors.photo,class:"mt-2"},null,8,["message"])])]),actions:s(()=>[d(N,{on:p(t).recentlySuccessful,class:"mr-3"},{default:s(()=>[u(" Berhasil disimpan. ")]),_:1},8,["on"]),d(z,{class:$({"opacity-25":p(t).processing}),disabled:p(t).processing},{default:s(()=>[u(" Simpan ")]),_:1},8,["class","disabled"])]),_:1}))}};export{le as default};
